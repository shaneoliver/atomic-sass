$shadows: (
    'shadow'        : '0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)',
    'shadow-md'     : '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',
    'shadow-lg'     : '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',
    'shadow-xl'     : '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
    'shadow-2xl'    : '0 25px 50px -12px rgba(0, 0, 0, 0.25)',
    'shadow-inner'  : 'inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)',
);

@function str-replace($string, $search, $replace: '') {
    $index: str-index($string, $search);
    
    @if $index {
      @return str-slice($string, 1, $index - 1) + $replace + str-replace(str-slice($string, $index + str-length($search)), $search, $replace);
    }
    
    @return $string;
  }

@include breakpoint-loop() {

    @each $key, $value in $shadows {
        .#{$key}#{$breakpoint-suffix} {
            box-shadow: #{$value};
        }

        @each $color, $color-value in $shadow-colors {
            .#{$key}-#{$color}#{$breakpoint-suffix} {
                $shadow: str-replace($value, '0, 0, 0', '#{red($color-value)}, #{green($color-value)}, #{blue($color-value)}');
                box-shadow: #{$shadow};
            }

            .shadow-outline-#{$color}#{$breakpoint-suffix} {
                box-shadow: 0 0 0 3px rgba($color-value, 0.4),
            }
        }
    }

    .shadow-none#{breakpoint-loop} {
        box-shadow: none;
    }

    .opacity-100#{breakpoint-loop} {
        opacity: 1;
    }
    .opacity-75#{breakpoint-loop}	{
        opacity: .75;
    }
    .opacity-50#{breakpoint-loop}	{
        opacity: .5;
    }
    .opacity-25#{breakpoint-loop}	{
        opacity: .25;
    }
    .opacity-0#{breakpoint-loop} {
        opacity: 0;
    }
}